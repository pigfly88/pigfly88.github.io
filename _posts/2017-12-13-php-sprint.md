---
layout: post
category: "php"
title:  "PHP sprintf"
---

sprintf用来格式化字符串

### 说明
```php
string sprintf ( string $format [, mixed $args [, mixed $... ]]
```

$format可能的格式值：

*	%% - 返回一个百分号 %
*	%b - 二进制数
*	%c - ASCII 值对应的字符
*	%d - 包含正负号的十进制数（负数、0、正数）
*	%e - 使用小写的科学计数法（例如 1.2e+2）
*	%E - 使用大写的科学计数法（例如 1.2E+2）
*	%u - 不包含正负号的十进制数（大于等于 0）
*	%f - 浮点数（本地设置）
*	%F - 浮点数（非本地设置）
*	%g - 较短的 %e 和 %f
*	%G - 较短的 %E 和 %f
*	%o - 八进制数
*	%s - 字符串
*	%x - 十六进制数（小写字母）
*	%X - 十六进制数（大写字母）

附加的格式值。必需放置在 % 和字母之间（例如 %.2f）：

*	\+ （在数字前面加上 + 或 - 来定义数字的正负性。默认情况下，只有负数才做标记，正数不做标记）
*	' （规定使用什么作为填充，默认是空格。它必须与宽度指定器一起使用。例如：%'x20s（使用 "x" 作为填充））
*	\- （左调整变量值）
*	[0-9] （规定变量值的最小宽度）
*	.[0-9] （规定小数位数或最大字符串长度）
注意：如果使用多个上述的格式值，它们必须按照以上顺序使用。

### 进制转换

```php
echo sprintf('%d', 0b11110)."\n"; //二进制转成十进制
echo sprintf('%d', 036)."\n"; //八进制转成十进制
echo sprintf('%d', 0x1e)."\n"; //十六进制转成十进制
echo sprintf('%x', 30)."\n"; //十进制转成十六进制
echo sprintf('%o', 30)."\n"; //十进制转成八进制，注意"%o\n"里的"o"是英文字母"o"

#=>输出：30 30 30 1e 36 
```



### 控制长度
```php
var_dump(sprintf('%.2f', 11.1111)); //2个小数位
var_dump(sprintf('%10.2f', 11.1111)); //最小长度10，2个小数位
var_dump(sprintf('%-10.2f', 11.1111)); //-表示左对齐，最小长度10，小数点后面最大长度2
var_dump(sprintf('%.5s', 'hello world')); //最大长度5，可以截取字符串喔

#=>输出：
string(5) "11.11"
string(10) "     11.11"
string(10) "11.11     "
string(5) "hello"
```

### 补位
顾名思义就是长度不够的时候补齐，格式：百分号+单引号+补位符号+长度+类型

'是补位标志，跟在它后面的就是补位符号，比如我这要显示11个字符长度的手机号码，只显示后4位，其余用*号代替
```php
$username = 'pigfly';
$phone = '12345678901';
echo sprintf("%'*11s", substr($phone, -4))."\n";
手机号截取后只剩下后4位了，我在前面补*，那么总长度是11，s是字符串类型，%'*11s就是这个意思

#=>输出：
*******8901
```

### 占位符
格式：百分号+数字+$+类型
```php
//注意这里不要用双引号把字符串包起来，这样会导致php去解析$s变量，或者你可以用\$转义
echo sprintf('Hi, %1$s~ your phone number is: %2$s, hope you will have a nice day, %1$s!', $username, $phone);
#=>Hi, pigfly~ your phone number is: 12345678901, hope you will have a nice day, pigfly!
```